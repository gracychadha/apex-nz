!function(e,t){$("meta[name='searchBand']").attr("content");window.PAGINATION_OBJ={},window.PAGINATION_CONFIG={};const n=["publish_time","add_time","edit_time","online_time","offline_time"];let a,i,o,r;const l=$("meta[name='ids']").attr("content")||"",c=$("meta[name='pageId']").attr("content")||"",d=$("meta[name='template']").attr("content")||"",s=$("meta[name='param']").attr("content"),u=d.split(";");if(""==u[0])return void Array.from(document.querySelectorAll(".proList")).forEach(e=>{if($(e).next()[0]){const t=$(e).parents(".rList")?.[0],n=t.querySelector('[data-type="scroll_more"]'),a=t.querySelector('[data-type="click_more"]');n&&(n.style.display="none"),a&&(a.style.display="none")}});i=u[0],o=u[1].split("#")[0],r="?"+s;const p=[];function g(e="y-M-d",t,n,a){let i=new Date(1e3*Number(t)||(new Date).getTime()),o={hour12:!0};if(a){const t={y:"year",M:"month",d:"day",h:"hour",m:"minute",s:"second"};a.param&&(o=a.param),e.split(/[\s-:/.]?/g).forEach(e=>{o[t[e]]=a[e]||"numeric"})}let r=i.toLocaleString("en-US",o);if("en-US"!=n){r=r.split(", ");const t=r[0].split(/\/|-/),n=r[1]?r[1].split(":"):[],a=n[2]?n[2].split(" "):[];let i={y:t[2],M:t[0],d:t[1],h:n[0],m:n[1],s:a[0]};return o.hour12&&(i.h=("AM"==a[1]?"上午":"下午")+i.h),e.replace(/[yMdhms]?/g,e=>i[e]?1==i[e].length?"0"+i[e]:i[e]:"")}return r}function m(e,t,n,a,r){let l=Number(a.getAttribute("data-number"))+2,c=a.getAttribute("data-prevname"),d=a.getAttribute("data-nextname");c=c||'<i class="iconfont">&lt;</i>',d=d||'<i class="iconfont">&gt;</i>',window.PAGINATION_OBJ.prevName=c,window.PAGINATION_OBJ.nextName=d;const s=document.querySelector(".pageBtnCon").querySelector("li a");s.getAttribute("class").replace("active","").replace("prepPageText","").replace("pagePre","").trim();const u=s.closest(".pagination").getAttribute("id");l<=0&&(l=15),l>0&&l<7&&(l=7);let p=e<l?e:l,g=!1,m=0,f="";const $=p<l,h=l>7?Math.ceil(p/2):Math.floor(p/2),y=t-h;for(let n=0;n<p;n++){if(t<e-(h-1)||$){g=!(e>l)||!(n==p-2||1==n&&y>1),m=n!=p-1?0==n||$?n+1:n+(y>1?l>10?y-1:y:1):e}else{g=1!=n||e<=l,m=0!=n?n+(e-t<=p/2?e-(p-1):y):n+1}if(g){let e;e=1==m?i.replace("{page}",m):o.replace("{page}",m),_active=t!=m?"":" active",f=`${f}<li key ="${n}"><a href="${e}" class="${u}A pagePre ${_active}">${m}</a></li>`}else f=`${f}<span key="${n}">...</span>`}return document.querySelector(`#${u} .pageBtnCon`).innerHTML=f,r&&r(e),window.PAGINATION_OBJ.initHandleEvent(),f}function f(e){const n=t.querySelector(".pageBtnCon"),a=parseInt($(".pageBtnCon").find(".active").text()),i=n.querySelector("li a"),o=n.querySelector("li"),r=i.getAttribute("class").replace("active","").replace("prepPageText",""),l=document.createElement("LI");l.innerHTML=` <a href="${location.search}" class="${r} prepPageText">${window.PAGINATION_OBJ.prevName}</a>`,!n.querySelector(".prepPageText")&&a>1?n.insertBefore(l,o):1==a&&n.querySelector(".prepPageText")&&$(".prepPageText").parent("li").remove();const c=document.createElement("LI");c.innerHTML=` <a href="${location.search}" class="${r} nextPageText">${window.PAGINATION_OBJ.nextName}</a>`,!n.querySelector(".nextPageText")&&a<e?n.appendChild(c):a==e&&n.querySelector(".nextPageText")&&$(".nextPageText").parent("li").remove()}function h(e,t){!function(e){const t=$(e).find(".videoMantle")[0];t&&t.getAttribute("data-videosrc")&&$(t).removeClass("hidden")}(e),function(e,t){$(e).find("[data-source]").each(function(e,a){const i=a.getAttribute("data-source");if(n.includes(i)){let e=t[i];const n=a.getAttribute("data-sign"),r=a.getAttribute("data-companylabeltext"),l=a.getAttribute("data-defaultvalue");let c;if("y-M-d h:m:s"==n?(lang="zh-CN",c=g(n,e,"",{param:{hour12:!1}})):"M d, Y"==n?(lang="en-US",c=g("M d y",e,"en-US",{M:"short"})):c=g(n||"y-M-d",e),$(a.parentNode).attr("data-datetime")){var o=c.split("-");o&&3==o.length&&(_datetimeSun=o[2],_datetimeYear=`${o[0]}-${o[1]}`,$(a).find(".datetimeSun").html(_datetimeSun),$(a).find(".datetimeYear").html(_datetimeYear),$(a.parentNode).css("opacity",1))}else a.innerHTML=e?r?r+c:c:l}})}(e,t),$(e).find(".videoMantle").attr("data-videosrc")&&window.Public.imgVideoInit($(e))}function y(e){e.stopPropagation(),e.preventDefault();const t=e.currentTarget;let n,i,o=$(t).parents(".rList")?.[0];i=$(t).parents(".pageBtnCon")[0],o||(o=$(t).parents(".prolist-table-box")?.[0]),n=$(o).attr("id"),console.log(o,"goodsList"),console.log(n,"controlId");let d=parseInt($(i).find(".active").text());var s=$(t).parents(".pagination").parents("div")[0].getBoundingClientRect().top,u=s+document.documentElement.scrollTop-20,p=0;let g=document.querySelector("#SITE_HEADER")||document.querySelector("#MO_SITE_HEADER");if(g){"true"==g.getAttribute("data-float")&&(u-=p=g.getBoundingClientRect().height)}(s<=10||s<=p)&&window.scrollTo(0,u);const y=$(i).find("li").find(".nextPageText").length?$(i).find("li").eq(-2).find("a").text():$(i).find("li").eq(-1).find("a").text();if($(t).hasClass("active"))return;var w;if($(t).hasClass("prepPageText")){if(1==d)return;d-=1;const e=$(i).find(".active").parent("li").prev()[0];$(i).find("li a").removeClass("active"),$(e).find("a").addClass("active"),w=$(e).find("a")[0].href}else if($(t).hasClass("nextPageText")){if(d==y)return;d+=1;const e=$(i).find(".active").parent("li").next()[0];"LI"==e.nodeName?($(i).find("li a").removeClass("active"),$(e).find("a").addClass("active"),w=$(e).find("a")[0].href):w=t.href}else d=parseInt($(t).text()),$(i).find("li a").removeClass("active"),w=$(t)[0].href,$(t).addClass("active");l||window.history.replaceState({},"",w);$("meta[name='searchKey']").attr("content"),$("meta[name='searchType']").attr("content"),$("meta[name='type']").attr("content");PAGINATION_CONFIG[n];let x=r+`&controlId=${n}&page=${d}&pageId=${c}`;Public.request("Home/Pages/getPagesData"+x,{},function(e){var t=Math.ceil(e.data.paginate.sum/e.data.paginate.count);a=e.data.pageVersion;let o=function(e){if(-1!==e.indexOf("&m="))return e.replace(/&page=\d+/g,"").replace(".html","")+"&";if(-1===window.location.href.indexOf("desktop")){let t=e.split(".html");return t="v1"==a?t[0].split("-")[0]:t[0],t}if(-1!==e.indexOf("/page"))return e.replace(".html","").replace("page/","").split("/").filter((e,t,n)=>t<n.length-1).join("/")+"/"}(w.replace(window.location.origin,""));window.PAGINATION_OBJ.path=o,1!=t&&(i.querySelector("li:first-child").style.display=1==d?"none":"inline-block",i.querySelector("li:last-child").style.display=d==t?"none":"inline-block"),m(Math.ceil(Number(e.data.paginate.sum)/Number(e.data.paginate.count)),d,e.data.paginate.count,i,f),function(e,t){var n=t.list;if(t.paginate,n.length){const t=document.querySelector(`#${e}`);if(t.classList.contains("prolist-table-box")){const e=t.querySelector("template"),i=t.querySelector("tbody");if(e&&i){const t=new TemplateParser(e,{list:n}).getHTMLString();i.innerHTML=t,$(i).children("tr").each(function(e,t){h(t,n[e])}),(new window.LinkFn).init(),$(".listImgBig").length&&window.baguetteBox&&window.baguetteBox.run(".listImgBig"),$(".lightbox").length&&(new Lightbox).init();try{(a=$(i).find('[data-source="total_click"]'))&&a.length&&(new Statistics).getlistClickNumber({proList:$(i)})}catch(e){}}}else{const t=document.querySelector(`#${e} template`),i=new TemplateParser(t,{list:n}).getHTMLString(),o=document.querySelector(`#${e} ul.proList`),r=document.createElement("DIV");r.append(o);const l=r.querySelector("ul");l.innerHTML=i,$(`#${e}`).prepend(l),$(`#${e}`).children("ul").children("li").each(function(e,t){h(t,n[e])}),(new window.LinkFn).init(),$(".listImgBig").length&&window.baguetteBox&&window.baguetteBox.run(".listImgBig"),$(".lightbox").length&&(new Lightbox).init();try{var a;(a=$(l).find('[data-source="total_click"]'))&&a.length&&(new Statistics).getlistClickNumber({proList:$(l)})}catch(e){}}}}(n,e.data)},"GET")}window.PAGINATION_OBJ.initHandleEvent=()=>{const e=t.querySelectorAll(".pageBtnCon .pagePre"),n=e?.length||0;for(let t=0;t<n;t++)(function(t){e[t].addEventListener("click",y)})(t)},window.PAGINATION_OBJ.handlePages=m,window.PAGINATION_OBJ.handlePrevNext=f,window.PAGINATION_OBJ.initHandleEvent();const w=Array.from(document.querySelectorAll(".proList")),x=Array.from(document.querySelectorAll(".prolist-table-box")),b=window.innerHeight;function v(e,t,n){$(e).attr("data-loaded",1);let a=$(e).attr("data-page");a=void 0===a?2:Number(a);const i=$(e).attr("id");$(e).find(".more-text").each((e,t)=>{t.style.display="none"}),$(e).find(".more-loading")[0].style.display="block";let o=r+`&controlId=${i}&page=${a}&pageId=${c}`;Public.request("Home/Pages/getPagesData"+o,{},function(o){var r=Math.ceil(o.data.paginate.sum/o.data.paginate.count),l=a+1;$(e).attr("data-page",a+1);const c=$(t).closest(".prolist-table-box")[0]||document.querySelector(`#${i} .prolist-table-box`);if(c){const e=c.querySelector("template"),t=c.querySelector("tbody");if(e&&t){const n=new TemplateParser(e,{list:o.data.list}).getHTMLString();window.history.replaceState({},"",window.location.href.split("#")[0]);const a=document.createElement("tbody");a.innerHTML=n,Array.from(a.children).forEach((e,n)=>{h(e,o.data.list[n]),t.appendChild(e)}),(new window.LinkFn).init(),$(".listImgBig").length&&window.baguetteBox&&window.baguetteBox.run(".listImgBig")}}else{const e=document.querySelector(`#${i} template`),n=new TemplateParser(e,{list:o.data.list}).getHTMLString();window.history.replaceState({},"",window.location.href.split("#")[0]);const a=document.createElement("ul");a.innerHTML=n,Array.from(a.children).forEach((e,n)=>{h(e,o.data.list[n]),t.appendChild(e)}),(new window.LinkFn).init(),$(".listImgBig").length&&window.baguetteBox&&window.baguetteBox.run(".listImgBig")}$(e).find(".more-text").each((e,t)=>{t.style.display="block"}),$(e).find(".more-loading")[0].style.display="none",l>r?($(e).attr("data-loaded",2),$(e).find(".pagination")[0].style.display="none"):$(e).attr("data-loaded",0),n&&n()})}function S(e){let t=$(e).parents(".rList")?.[0];t||(t=e);const n=$(t).attr("data-loaded");void 0!==n&&0!=n||v(t,e)}function I(e){const t=$(e).parents(".rList")?.[0],n=$(t).attr("data-loaded");if(void 0===n||0==n){const{top:n,height:a}=e.getBoundingClientRect();(function(e){return e<2*b})(n+a)&&v(t,e,()=>{document.documentElement.scrollHeight>document.documentElement.clientHeight||I(e)})}}function A(){p.forEach(e=>{I(e)})}window.addEventListener("scroll",function(e){A()}),w.forEach(e=>{if($(e).next()[0]){let t=$(e).parents(".rList")?.[0];if(console.log($(e).next()[0],"$(it).next()[0]"),console.log(t,"goodsList"),t){const n=t.querySelector('[data-type="scroll_more"]'),a=t.querySelector('[data-type="click_more"]');n&&p.push(e),a&&a.addEventListener("click",()=>{S(e)})}}}),x.forEach(e=>{let t=e;if(console.log(t,"goodsList"),t){const n=t.querySelector('[data-type="scroll_more"]'),a=t.querySelector('[data-type="click_more"]');n&&p.push(e),a&&a.addEventListener("click",()=>{S(e)})}}),A()}(window,document);